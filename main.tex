\documentclass[acmsmall,screen,review,anonymous,nonacm]{acmart}

\setcitestyle{nosort}
\citestyle{acmauthoryear}

\usepackage[outputdir=build]{minted}
% shorthand for inline code
\newcommand{\hs}[1]{\mintinline{haskell}{#1}}
\usemintedstyle{borland}
% the following code create a `cminted' environment that centers a minted code block
% taken from https://tex.stackexchange.com/questions/161124/how-to-make-a-minted-code-listing-centered-on-a-page
\usepackage{xpatch,letltxmacro}
\LetLtxMacro{\cminted}{\minted}
\let\endcminted\endminted
\xpretocmd{\cminted}{\RecustomVerbatimEnvironment{Verbatim}{BVerbatim}{}}{}{}

\usepackage{cleveref}

\title{Async HasChor: Library-Level Fully Asynchronous Choreographic Programming}

\begin{abstract}
Choreographic programming is a paradigm that models a distributed system as a unified program, which is then endpoint projected into individual programs for each participant.
%
Thanks to its global point of view, communications among participants are manifest and guaranteed to match on both ends, resulting in a deadlock-free-by-design construction.
%
However, existing choreographic programming models lack sufficient support for asynchronous communication, as they block the receiver.
%
This limitation makes it impossible to express useful protocols that handle network failures.

In this paper, we introduce a new choreographic programming model that supports \emph{fully} asynchronous communication, and implement it as Async HasChor, a library in Haskell.
%
The key idea is to make each communication return a \emph{future} and execute each sending and receiving in a separate thread.
%
One challenge of this approach is that messages can now arrive out of order, and if not handled correctly, can lead to serious bugs at run time.
%
To address this challenge, we tag each message with a sequence number and extend endpoint projection to automatically generate these numbers consistently among participants.
%
We evaluate Async HasChor by implementing a Paxos-like consensus algorithm.
\end{abstract}

\begin{document}

\maketitle
\input{0-intro}
\input{1-motiv}
\input{2-tour}
\input{3-formal}
\input{4-impl}
\input{5-eval}
\input{6-related}
\input{7-conclu}

\bibliographystyle{ACM-Reference-Format}
\bibliography{references}

\end{document}
